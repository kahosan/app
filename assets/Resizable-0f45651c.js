import{j as c}from"./index-021ad583.js";import"./messenger-provider-a886fcd3.js";import{c as C}from"./classnames-7ca44501.js";function E(r){if(r===void 0)return[!0,!0,!0,!0];if(r===!1)return[!1,!1,!1,!1];if(Array.isArray(r)){const[e,d,t,l]=r;return[e??!1,d??!1,t??!1,l??!1]}if(typeof r=="object"){const{left:e,right:d,top:t,bottom:l}=r;return[e??!1,d??!1,t??!1,l??!1]}return[!1,!1,!1,!1]}const n="ppd-resizable";function R(r){const e={get MIN_WIDTH(){return getComputedStyle(r,"").getPropertyValue("min-width")},get MIN_HEIGHT(){return getComputedStyle(r,"").getPropertyValue("min-height")}};let d,t=!1;function l(a,i,s){const[o,b]=[a?"y":"x",a?"height":"width"],_=s[o]-d,h=parseInt(getComputedStyle(r,"")[b])+_*i;d=s[o],r.style[b]=h+"px"}const u=[];function f(a){var x,j,$,B;const i=a.target,[s,o,b,_]=[(x=i==null?void 0:i.classList)==null?void 0:x.contains(`${n}-border__left`),(j=i==null?void 0:i.classList)==null?void 0:j.contains(`${n}-border__right`),($=i==null?void 0:i.classList)==null?void 0:$.contains(`${n}-border__top`),(B=i==null?void 0:i.classList)==null?void 0:B.contains(`${n}-border__bottom`)],[h,g]=[s||o,b||_];if(!h&&!g)return;d=h?a.pageX:a.pageY,t?(h&&(r.style.width=e.MIN_WIDTH),g&&(r.style.height=e.MIN_HEIGHT)):(t=!0,setTimeout(()=>t=!1,1e3)),document.querySelectorAll("iframe").forEach(N=>N.style.pointerEvents="none");const v=l.bind(null,g,o||_?1:-1);u.push(v),document.addEventListener("mousemove",v,!1),r.style.userSelect="none"}function m(){u.forEach(a=>document.removeEventListener("mousemove",a,!1)),document.querySelectorAll("iframe").forEach(a=>a.style.pointerEvents="auto"),r.style.userSelect="auto"}return r.addEventListener("mousedown",f,!1),document.addEventListener("mouseup",m),()=>{r.removeEventListener("mousedown",f),document.removeEventListener("mouseup",m)}}function I({className:r,style:e,children:d,...t}){const l=React.useRef(null),[u,f,m,a]=E(t.resizable);React.useEffect(()=>{l.current!==null&&(m===!1||a===!1)&&(l.current.style.height=typeof(e==null?void 0:e.height)=="number"?e.height+"px":(e==null?void 0:e.height)??"auto")},[m,a,e==null?void 0:e.height]),React.useEffect(()=>{l.current!==null&&(u===!1||f===!1)&&(l.current.style.width=typeof(e==null?void 0:e.width)=="number"?e.width+"px":(e==null?void 0:e.width)??"auto")},[u,f,e==null?void 0:e.width]);const i=React.useRef();return c.jsxs("div",{className:C(n,r,u&&`${n}__left`,f&&`${n}__right`,m&&`${n}__top`,a&&`${n}__bottom`),style:e,ref:async s=>{var o;if(!s){(o=i.current)==null||o.call(i);return}l.current=s,i.current=R(s)},children:[d,u&&c.jsx("div",{className:`${n}-border ${n}-border__left`,children:t.onBorderBtnClick&&c.jsx("div",{className:`${n}-border__btns`,children:c.jsx("button",{onClick:s=>{var o;return(o=t.onBorderBtnClick)==null?void 0:o.call(t,"left",s,{type:"full"})},children:c.jsx("span",{className:"cldr codicon codicon-debug-continue-small",style:{transform:"rotate(180deg)"}})})})}),f&&c.jsx("div",{className:`${n}-border ${n}-border__right`,children:t.onBorderBtnClick&&c.jsx("div",{className:`${n}-border__btns`,children:c.jsx("button",{onClick:s=>{var o;return(o=t.onBorderBtnClick)==null?void 0:o.call(t,"right",s,{type:"full"})},children:c.jsx("span",{className:"cldr codicon codicon-debug-continue-small"})})})}),m&&c.jsx("div",{className:`${n}-border ${n}-border__top`,children:t.onBorderBtnClick&&c.jsx("div",{className:`${n}-border__btns`,children:c.jsx("button",{onClick:s=>{var o;return(o=t.onBorderBtnClick)==null?void 0:o.call(t,"top",s,{type:"full"})},children:c.jsx("span",{className:"cldr codicon codicon-debug-continue-small",style:{transform:"rotate(270deg)"}})})})}),a&&c.jsx("div",{className:`${n}-border ${n}-border__bottom`,children:t.onBorderBtnClick&&c.jsx("div",{className:`${n}-border__btns`,children:c.jsx("button",{onClick:s=>{var o;return(o=t.onBorderBtnClick)==null?void 0:o.call(t,"bottom",s,{type:"full"})},children:c.jsx("span",{className:"cldr codicon codicon-debug-continue-small",style:{transform:"rotate(90deg)"}})})})})]})}export{I as R};
